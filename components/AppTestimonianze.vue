<template>
    <section ref="testimonials" id="testimonials" class="relative">

        <div class="testimonials-section flex mx-auto px-4 flex-col lg:justify-center relative mt-40 h-lvh lg:p-0 pt-32 overflow-hidden lg:mb-[300px]">

            <!-- <figure class="absolute element-1">
                <img src="../assets/img/graphic-elements/testimonials-element-1.webp" alt="" width="100">
            </figure> -->
    
            <div class="testimonials relative">
                <h2 class="text-center text-[60px] lg:text-[150px]">Testimonianze</h2>
    
                <div
                    class="testimonial-box lg:w-[470px] w-[350px] h-[270px] z-[10] box-1 absolute left-[50%] translate-y-[30%] translate-y-[30%] lg:top-[50%] translate-x-[-50%] lg:translate-y-[-50%] rotate-[-2deg]">
                    <h4>Concept Home</h4>
                    <h6>Agenzia Immobiliare con 5 sedi a Roma</h6>
                    <p><span>Risultato:</span> 17 incarichi in 80 giorni, 2 vendite generate per un totale di € 24.000</p>
                    <div class="flex video-link items-center gap-4 absolute -left-6">
                        <figure>
                            <svg width="50" height="50" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="28.0605" cy="28.2378" r="26" transform="rotate(-1.93961 28.0605 28.2378)"
                                    fill="#00101C" stroke="#3DB8D8" />
                                <g clip-path="url(#clip0_212_7585)">
                                    <path
                                        d="M20.7039 38.9286C20.7237 39.3151 20.849 39.6888 21.0662 40.009C21.2834 40.3293 21.5843 40.5839 21.9361 40.7451C22.2881 40.9286 22.6816 41.018 23.0784 41.0045C23.4751 40.9911 23.8617 40.8753 24.2005 40.6684L39.9193 30.1947C40.2629 30.0146 40.5488 29.7411 40.7439 29.4058C40.9391 29.0705 41.0356 28.6869 41.0225 28.2991C41.0094 27.9114 40.8871 27.5352 40.6697 27.2138C40.4523 26.8925 40.1486 26.639 39.7936 26.4825L23.4047 17.1705C23.0527 16.987 22.6592 16.8976 22.2624 16.9111C21.8657 16.9245 21.4791 17.0403 21.1403 17.2472C20.8003 17.4318 20.5173 17.7062 20.3222 18.0404C20.1272 18.3746 20.0274 18.7559 20.0338 19.1428L20.7039 38.9286Z"
                                        stroke="#3DB8D8" stroke-linecap="round" stroke-linejoin="round" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_212_7585">
                                        <rect width="26" height="26" fill="white"
                                            transform="translate(17.1435 16.1003) rotate(-1.93961)" />
                                    </clipPath>
                                </defs>
                            </svg>
                        </figure>
                        <a href="https://www.youtube.com/watch?v=k8w2BeUyU1U" target="_blank">Video-testimonianza</a>
                    </div>
                </div>
    
                <div
                    class="testimonial-box lg:w-[470px] w-[350px] h-[270px] box-2 absolute left-[50%] translate-x-[-50%] translate-y-[30%] lg:left-[15%] lg:top-0 lg:translate-x-0 lg:translate-y-[-70%] rotate-[-7deg]">
                    <h4>Vela Immobiliare</h4>
                    <h6>Agenzia Immobiliare in provincia di Padova</h6>
                    <p><span>Risultato:</span> 8 incarichi e 4 vendite per un totale di 50.000€ con un ROAS del 1200%</p>
                    <div class="flex video-link items-center gap-4 absolute -left-6">
                        <figure>
                            <svg width="50" height="50" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="28.0605" cy="28.2378" r="26" transform="rotate(-1.93961 28.0605 28.2378)"
                                    fill="#00101C" stroke="#3DB8D8" />
                                <g clip-path="url(#clip0_212_7585)">
                                    <path
                                        d="M20.7039 38.9286C20.7237 39.3151 20.849 39.6888 21.0662 40.009C21.2834 40.3293 21.5843 40.5839 21.9361 40.7451C22.2881 40.9286 22.6816 41.018 23.0784 41.0045C23.4751 40.9911 23.8617 40.8753 24.2005 40.6684L39.9193 30.1947C40.2629 30.0146 40.5488 29.7411 40.7439 29.4058C40.9391 29.0705 41.0356 28.6869 41.0225 28.2991C41.0094 27.9114 40.8871 27.5352 40.6697 27.2138C40.4523 26.8925 40.1486 26.639 39.7936 26.4825L23.4047 17.1705C23.0527 16.987 22.6592 16.8976 22.2624 16.9111C21.8657 16.9245 21.4791 17.0403 21.1403 17.2472C20.8003 17.4318 20.5173 17.7062 20.3222 18.0404C20.1272 18.3746 20.0274 18.7559 20.0338 19.1428L20.7039 38.9286Z"
                                        stroke="#3DB8D8" stroke-linecap="round" stroke-linejoin="round" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_212_7585">
                                        <rect width="26" height="26" fill="white"
                                            transform="translate(17.1435 16.1003) rotate(-1.93961)" />
                                    </clipPath>
                                </defs>
                            </svg>
                        </figure>
                        <a href="https://www.youtube.com/watch?v=ME8BnN4AeAc" target="_blank">Video-testimonianza</a>
                    </div>
                </div>
    
                <div
                    class="testimonial-box lg:w-[470px] w-[350px] h-[270px] box-3 absolute left-[50%] translate-x-[-50%] translate-y-[30%] lg:right-[15%] lg:bottom-0 lg:translate-x-0 lg:translate-y-[80%] rotate-[10deg]">
                    <h4>Concept Home Ferrara</h4>
                    <h6>Agenzia Immobiliare a Bologna</h6>
                    <p><span>Risultato:</span> 24 incarichi e 5 vendite per un totale di 55.000€ con un ROAS del 1500%</p>
                    <div class="flex video-link items-center gap-4 absolute -left-6">
                        <figure>
                            <svg width="50" height="50" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="28.0605" cy="28.2378" r="26" transform="rotate(-1.93961 28.0605 28.2378)"
                                    fill="#00101C" stroke="#3DB8D8" />
                                <g clip-path="url(#clip0_212_7585)">
                                    <path
                                        d="M20.7039 38.9286C20.7237 39.3151 20.849 39.6888 21.0662 40.009C21.2834 40.3293 21.5843 40.5839 21.9361 40.7451C22.2881 40.9286 22.6816 41.018 23.0784 41.0045C23.4751 40.9911 23.8617 40.8753 24.2005 40.6684L39.9193 30.1947C40.2629 30.0146 40.5488 29.7411 40.7439 29.4058C40.9391 29.0705 41.0356 28.6869 41.0225 28.2991C41.0094 27.9114 40.8871 27.5352 40.6697 27.2138C40.4523 26.8925 40.1486 26.639 39.7936 26.4825L23.4047 17.1705C23.0527 16.987 22.6592 16.8976 22.2624 16.9111C21.8657 16.9245 21.4791 17.0403 21.1403 17.2472C20.8003 17.4318 20.5173 17.7062 20.3222 18.0404C20.1272 18.3746 20.0274 18.7559 20.0338 19.1428L20.7039 38.9286Z"
                                        stroke="#3DB8D8" stroke-linecap="round" stroke-linejoin="round" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_212_7585">
                                        <rect width="26" height="26" fill="white"
                                            transform="translate(17.1435 16.1003) rotate(-1.93961)" />
                                    </clipPath>
                                </defs>
                            </svg>
                        </figure>
                        <a href="https://www.youtube.com/watch?v=dJvJm0u0ePM" target="_blank">Video-testimonianza</a>
                    </div>
                </div>
    
                <div
                    class="testimonial-box lg:w-[470px] w-[350px] h-[270px] box-4 absolute left-[50%] translate-x-[-50%] translate-y-[20%] lg:left-[15%] lg:bottom-0 lg:translate-x-0 lg:translate-y-[80%] rotate-[-15deg]">
                    <h4>Immobilinea</h4>
                    <h6>Agenzia Immobiliare a Garda</h6>
                    <p><span>Risultato:</span> vendita di un immobile di 2.500.000€ e 3 assunzioni in 4 mesi</p>
                    <div class="flex video-link items-center gap-4 absolute -left-6">
                        <figure>
                            <svg width="50" height="50" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="28.0605" cy="28.2378" r="26" transform="rotate(-1.93961 28.0605 28.2378)"
                                    fill="#00101C" stroke="#3DB8D8" />
                                <g clip-path="url(#clip0_212_7585)">
                                    <path
                                        d="M20.7039 38.9286C20.7237 39.3151 20.849 39.6888 21.0662 40.009C21.2834 40.3293 21.5843 40.5839 21.9361 40.7451C22.2881 40.9286 22.6816 41.018 23.0784 41.0045C23.4751 40.9911 23.8617 40.8753 24.2005 40.6684L39.9193 30.1947C40.2629 30.0146 40.5488 29.7411 40.7439 29.4058C40.9391 29.0705 41.0356 28.6869 41.0225 28.2991C41.0094 27.9114 40.8871 27.5352 40.6697 27.2138C40.4523 26.8925 40.1486 26.639 39.7936 26.4825L23.4047 17.1705C23.0527 16.987 22.6592 16.8976 22.2624 16.9111C21.8657 16.9245 21.4791 17.0403 21.1403 17.2472C20.8003 17.4318 20.5173 17.7062 20.3222 18.0404C20.1272 18.3746 20.0274 18.7559 20.0338 19.1428L20.7039 38.9286Z"
                                        stroke="#3DB8D8" stroke-linecap="round" stroke-linejoin="round" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_212_7585">
                                        <rect width="26" height="26" fill="white"
                                            transform="translate(17.1435 16.1003) rotate(-1.93961)" />
                                    </clipPath>
                                </defs>
                            </svg>
                        </figure>
                        <a href="https://www.youtube.com/watch?v=NCChj9MXgd0" target="_blank">Video-testimonianza</a>
                    </div>
                </div>
    
                <div
                    class="testimonial-box lg:w-[470px] w-[350px] h-[270px] box-5 absolute left-[50%] translate-x-[-50%] translate-y-[30%] lg:right-[15%] lg:top-0 lg:translate-x-0 lg:translate-y-[-80%] rotate-[15deg] ms-5 lg:ms-0">
                    <h4>Innova</h4>
                    <h6>Agenzia Immobiliare a Palermo</h6>
                    <p><span>Risultato:</span> 250.000€ nel 2024 con un ROAS del 800%</p>
                    <div class="flex video-link items-center gap-4 absolute -left-6">
                        <figure>
                            <svg width="50" height="50" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="28.0605" cy="28.2378" r="26" transform="rotate(-1.93961 28.0605 28.2378)"
                                    fill="#00101C" stroke="#3DB8D8" />
                                <g clip-path="url(#clip0_212_7585)">
                                    <path
                                        d="M20.7039 38.9286C20.7237 39.3151 20.849 39.6888 21.0662 40.009C21.2834 40.3293 21.5843 40.5839 21.9361 40.7451C22.2881 40.9286 22.6816 41.018 23.0784 41.0045C23.4751 40.9911 23.8617 40.8753 24.2005 40.6684L39.9193 30.1947C40.2629 30.0146 40.5488 29.7411 40.7439 29.4058C40.9391 29.0705 41.0356 28.6869 41.0225 28.2991C41.0094 27.9114 40.8871 27.5352 40.6697 27.2138C40.4523 26.8925 40.1486 26.639 39.7936 26.4825L23.4047 17.1705C23.0527 16.987 22.6592 16.8976 22.2624 16.9111C21.8657 16.9245 21.4791 17.0403 21.1403 17.2472C20.8003 17.4318 20.5173 17.7062 20.3222 18.0404C20.1272 18.3746 20.0274 18.7559 20.0338 19.1428L20.7039 38.9286Z"
                                        stroke="#3DB8D8" stroke-linecap="round" stroke-linejoin="round" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_212_7585">
                                        <rect width="26" height="26" fill="white"
                                            transform="translate(17.1435 16.1003) rotate(-1.93961)" />
                                    </clipPath>
                                </defs>
                            </svg>
                        </figure>
                        <a href="https://www.youtube.com/watch?v=rMuFfBM5fLE" target="_blank">Video-testimonianza</a>
                    </div>
                </div>
    
            </div>
        </div>

        
        <div class="absolute left-[50%] translate-x-[-50%] lg:-bottom-20 bottom-20">
            <a href="https://metodoimmobiliare.com/recensioni-clienti/" target="_blank">
                <button class="btn btn-main">Guarda tutte le testimonianze</button>
            </a>
        </div>

    </section>
</template>

<script setup>

    import { onMounted, onUnmounted, ref } from 'vue';
    const { $gsap, $ScrollTrigger } = useNuxtApp()

    const testimonials = ref();
    let ctx;

    onMounted(() => {
        ctx = $gsap.context((self) => {
            setTimeout(() => {

                const bottomScreen = window.innerHeight
                const widthScreen = window.innerWidth 

                let tlTestimonials = $gsap.timeline({
                    force3D: false,
                    scrollTrigger: {
                        trigger: ".testimonials-section",
                        start: "top",
                        end: "bottom",
                        scrub: true,
                        pin: ".testimonials-section",
                        pinSpacing: true,
                        // ease: "Power5.inOut",
                        // markers: true,
                    },
                })

                tlTestimonials.from(
                    ".box-2",
                    {
                        left: "-600",
                        ease: "Power5.inOut",
                        duration: 500,
                    }
                )

                tlTestimonials.from(
                    ".box-3",
                    {
                        x: widthScreen,
                        ease: "Power5.inOut",
                        duration: 500,
                    }
                )

                tlTestimonials.from(
                    ".box-4",
                    {
                        left: "-600",
                        ease: "Power5.inOut",
                        duration: 500,
                    }
                )

                tlTestimonials.from(
                    ".box-5",
                    {
                        x: widthScreen,
                        ease: "Power5.inOut",
                        duration: 500,
                    }
                )

                tlTestimonials.from(
                    ".box-1",
                    {
                        y: bottomScreen,
                        ease: "Power5.inOut",
                        duration: 500,
                    }
                )

            }, 1000);
        }, testimonials.value);

    })

</script>

<style scoped>
    /* section {
        height: 100vh;

    } */

    h2 {
        font-weight: 800;
    }

    .testimonial-box {
        border: 1px solid #3DB8D8;
        border-radius: 20px;
        background-color: #00101C;
        padding: 30px;

        /* width: 470px; */
        /* height: 325px; */

        h4 {
            font-size: 22px;
            font-weight: 700;
            color: #3DB8D8;
        }

        h6 {
            font-size: 14px;
            font-style: italic;
        }

        p {
            margin-top: 30px;
            font-size: 14px;

            span {
                color: #3DB8D8;
            }
        }

        .video-link {
            margin-top: 30px;


            a {
                font-size: 14px;
                border-bottom: 1px solid #3DB8D8;
                color: #3DB8D8;

            }
        }
    }

    .box-1 {
        z-index: 5;
        /* height: 325px; */
    }

    .box-2 {
        z-index: 1;
        /* height: 360px; */
    }

    .box-3 {
        z-index: 2;
        /* height: 325px; */
    }

    .box-4 {
        z-index: 3;
        /* height: 380px; */
    }

    .box-5 {
        z-index: 4;
        /* height: 325px; */
    }
</style>